angular.module("tonen",[]).factory("$tonen",function(g){var d=function(b,a,e){d.get(b).success(function(h){var c=!0,f=parseInt((new Date).getTime()+Math.random(),0);a["$$_____"+f]=h;a.$eval(e+" = $$_____"+f);delete a["$$_____"+f];a.$applyAsync();a.$watch(e,function(a,e){c||d.set(b,a);c=!1},!0)})};d.get=function(b){return g.get(b)};d.set=function(b,a){if("undefined"!==typeof a)return g({method:"POST",url:b,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(a){var b=[],c;for(c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},data:{data:angular.toJson(a)}})};return d});